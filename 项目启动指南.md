# 快递蜂（FetchBee）项目启动指南

## 一、环境要求与检查

**mysql和redis的密码需要记住**

| 环境名称 | 版本号 | `cmd窗口执行的命令` |

| JDK | 17+ | `java -version` |
| Maven | 3.6+ | `mvn -version` |
| Node.js | 18+ | `node -v` |
| npm | - | `npm -v` |
| MySQL | 8.0+ | `mysql --version` |
| Redis | 6.0+ | `redis-server --version` |

> 如果命令提示"不是内部或外部命令"，说明未安装或未配置环境变量，请自行查阅安装教程。

后端和web端使用Visua Studio Code启动  小程序端使用HBuilderX运行到微信小程序启动
![alt text](image.png)
---

**环境安装好之后，在Visua Studio Code安装一些插件**：

![image-20251124180715326](C:\Users\79058\AppData\Roaming\Typora\typora-user-images\image-20251124180715326.png)

手动搜索：Language Support for Java(TM) by Red Hat

![image-20251124180835263](C:\Users\79058\AppData\Roaming\Typora\typora-user-images\image-20251124180835263.png)

## 二、配置修改

### 2.1 后端配置（必须修改）

**文件路径：** `d:\fetchbee\fetchbee-backend\src\main\resources\application.properties`

![image-20251124175904452](C:\Users\79058\AppData\Roaming\Typora\typora-user-images\image-20251124175904452.png)

#### ① 数据库配置（第 10-13 行）

```properties
# 数据库地址（如果端口或数据库名不同，修改这里）
spring.datasource.url=jdbc:mysql://localhost:3306/fetchbee?useUnicode=true&characterEncoding=utf8&useSSL=false&serverTimezone=Asia/Shanghai&allowPublicKeyRetrieval=true

# 数据库用户名（默认 root）
spring.datasource.username=root

# 数据库密码（改成你自己的 MySQL 密码）
spring.datasource.password=你的MySQL密码
```

#### ② Redis 配置（第 26-28 行）

```properties
# Redis 地址（默认本机）
spring.data.redis.host=localhost

# Redis 端口（默认 6379）
spring.data.redis.port=6379

# Redis 密码（如果没有设置密码，删除这一行或留空）
spring.data.redis.password=你的Redis密码
```

**其他配置说明：**

- 第 5 行 `server.port=8080`：后端运行端口，一般不用改

### 2.2 前端配置（可选）

**文件路径：** `d:\fetchbee\fetchbee-frontend\src\utils\request.ts`

#### 修改后端地址（第 7 行）

```typescript
baseURL: 'http://localhost:8080',  // 如果后端地址不同，修改这里
```

> 如果后端在本机 8080 端口运行，不需要修改。

---

## 三、数据库初始化

用navicat把db目录下的sql文件执行一下。

![image-20251124180038960](C:\Users\79058\AppData\Roaming\Typora\typora-user-images\image-20251124180038960.png)![image-20251124180109801](C:\Users\79058\AppData\Roaming\Typora\typora-user-images\image-20251124180109801.png)

## 四、启动项目

### 4.2 启动后端

FetchbeeBackendApplication.java这个文件main方法会有一个run的小按钮

![image-20251124190627509](C:\Users\79058\AppData\Roaming\Typora\typora-user-images\image-20251124190627509.png)

### 4.3 启动前端

![image-20251124190801180](C:\Users\79058\AppData\Roaming\Typora\typora-user-images\image-20251124190801180.png)

![image-20251124190843820](C:\Users\79058\AppData\Roaming\Typora\typora-user-images\image-20251124190843820.png)

第一次运行需要安装依赖

**npm install**

启动前端

**npm run dev**

```

**成功标志：** 看到 `Local: http://localhost:5173/`

### 4.4 访问项目

浏览器打开：`http://localhost:5173`

---

## 五、常见问题

数据库和redis需要先运行连接起来在跑项目

```
## 六、重要文件路径速查

配置文件：
├── 后端配置：d:\fetchbee\fetchbee-backend\src\main\resources\application.properties
├── 前端配置：d:\fetchbee\fetchbee-frontend\src\utils\request.ts
└── 数据库脚本：d:\fetchbee\fetchbee-backend\db\fetchbee.sql

端口说明：
├── 后端：http://localhost:8080
├── 前端：http://localhost:5173
├── MySQL：3306
└── Redis：6379

# 项目流程讲解

注册登录--个人中心（faye和panghu密码都是123456  数据库存储里面有加密）

发布者点击发布订单，填写相关信息，发布成功，等待接单者接单，接单之后，接单者点击送达，需发布者确认送达，订单才算完成，余额才会发放

有做以下处理：

1.发布者不能接单自己发布的订单

2.其中有人接单/取消/送达/确认送达都会触发消息提醒（默认每十秒刷新一次，页面也有刷新按钮）

![image-20251124184639871](C:\Users\79058\AppData\Roaming\Typora\typora-user-images\image-20251124184639871.png)

3.订单超过截止时间会自动下架，但每十分钟才会执行一次定时任务清理。超出截止时间但未触发清理任务的，还存在于订单大厅，点击接单会提示订单已过期。

![image-20251124184854968](C:\Users\79058\AppData\Roaming\Typora\typora-user-images\image-20251124184854968.png)

4.只有接单之后才会显示取件码，在订单大厅里面点击订单详情，取件码会打码

5.订单发布成功会预扣款，取消订单只能未接单前才能取消。等发布者确认送达，费用才会发给接单者

6.超时订单按80%支付

![image-20251124185745249](C:\Users\79058\AppData\Roaming\Typora\typora-user-images\image-20251124185745249.png)

6.接单者点击送达，发布者如未点击确认，24小时会自动确认

7.余额只能通过数据库直接修改

